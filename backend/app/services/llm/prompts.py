"""All LLM prompts in one place for easy editing."""

INTERVIEW_SYSTEM_PROMPT = """Ты профессиональный карьерный консультант и HR-специалист. Твоя задача — провести интервью с пользователем, чтобы собрать информацию для составления резюме.

ПРАВИЛА:
1. Задавай по одному вопросу за раз
2. Будь дружелюбным и профессиональным
3. Если ответ слишком короткий — попроси уточнить
4. Делай заметки о ключевых достижениях и цифрах
5. Общайся на русском языке

ТЕМЫ ДЛЯ ОБСУЖДЕНИЯ (в этом порядке):
1. Текущая/последняя позиция и обязанности
2. Общий опыт работы (сколько лет, в каких сферах)
3. Ключевые проекты и достижения (с цифрами!)
4. Технические навыки (hard skills)
5. Soft skills и стиль работы
6. Образование
7. Желаемая позиция и направление развития
8. Зарплатные ожидания
9. Предпочтения по формату работы (офис/удалёнка/гибрид)
10. Готовность к переезду/командировкам

После 10-12 вопросов или когда соберёшь достаточно информации, скажи что готов составить профиль и спроси, хочет ли пользователь что-то добавить.

НЕ ГЕНЕРИРУЙ резюме сразу — только собирай информацию через вопросы."""

INTERVIEW_FIRST_MESSAGE = """Привет! Я помогу составить твой профессиональный профиль для поиска работы.

Давай начнём с главного: расскажи, кем ты сейчас работаешь и чем занимаешься? Если сейчас в поиске — расскажи о последнем месте работы."""

PROFILE_EXTRACTION_PROMPT = """Проанализируй историю интервью и извлеки структурированный профиль кандидата.

ИСТОРИЯ ИНТЕРВЬЮ:
{interview_history}

Верни JSON со следующей структурой:
{{
    "preferred_position": "Желаемая должность",
    "experience_years": число_лет_опыта,
    "skills": ["навык1", "навык2", ...],
    "preferred_salary_min": минимальная_зарплата_число_или_null,
    "preferred_salary_max": максимальная_зарплата_число_или_null,
    "preferred_locations": ["Москва", "Remote", ...],
    "summary": "Краткое описание кандидата в 2-3 предложения",
    "experience": [
        {{
            "position": "Должность",
            "company": "Компания",
            "duration": "Период работы",
            "description": "Описание обязанностей и достижений"
        }}
    ],
    "education": [
        {{
            "institution": "Учебное заведение",
            "degree": "Степень/специальность",
            "year": год_окончания
        }}
    ],
    "projects": [
        {{
            "name": "Название проекта",
            "description": "Описание и достижения",
            "technologies": ["tech1", "tech2"]
        }}
    ]
}}

Извлеки максимум информации из интервью. Если какая-то информация не была упомянута, оставь поле пустым или null."""

VACANCY_MATCH_PROMPT = """Проанализируй соответствие профиля кандидата вакансии.

ПРОФИЛЬ КАНДИДАТА:
{profile}

ВАКАНСИЯ:
{vacancy}

Оцени соответствие и верни JSON:
{{
    "match_score": число_от_0_до_100,
    "matching_skills": ["навык1", "навык2"],
    "missing_skills": ["навык1", "навык2"],
    "experience_match": "full" | "partial" | "none",
    "salary_match": "above" | "within" | "below" | "unknown",
    "recommendations": ["рекомендация по улучшению резюме для этой вакансии"],
    "summary": "Краткий вывод о соответствии"
}}"""

RESUME_GENERATION_PROMPT = """Создай резюме на основе профиля кандидата.

ПРОФИЛЬ:
{profile}

Создай профессиональное резюме в формате JSON для HH.ru API:
{{
    "title": "Желаемая должность",
    "skills": "Ключевые навыки через запятую",
    "skill_set": ["навык1", "навык2"],
    "experience": [
        {{
            "position": "Должность",
            "company": "Компания",
            "start": "YYYY-MM-DD",
            "end": "YYYY-MM-DD или null если текущая",
            "description": "Описание с достижениями и цифрами"
        }}
    ],
    "education": [...],
    "about": "Раздел О себе - 3-5 предложений"
}}

Сделай резюме конкретным, с цифрами и достижениями. Используй активные глаголы."""

RESUME_ADAPTATION_PROMPT = """Адаптируй резюме под конкретную вакансию.

БАЗОВОЕ РЕЗЮМЕ:
{base_resume}

ВАКАНСИЯ:
{vacancy}

ПРОФИЛЬ КАНДИДАТА:
{profile}

Задачи:
1. Подчеркни релевантный опыт для этой вакансии
2. Переупорядочь навыки (важные для вакансии — первыми)
3. Адаптируй описание опыта под требования
4. НЕ добавляй навыки/опыт, которых нет у кандидата

Верни JSON:
{{
    "adapted_resume": {{ ... структура как у базового резюме ... }},
    "adaptations": [
        {{
            "field": "какое поле изменено",
            "reason": "почему изменено",
            "original": "было",
            "adapted": "стало"
        }}
    ]
}}"""

COVER_LETTER_PROMPT = """Напиши сопроводительное письмо.

ПРОФИЛЬ КАНДИДАТА:
{profile}

ВАКАНСИЯ:
{vacancy}

ТРЕБОВАНИЯ:
- 3-4 абзаца
- Конкретика: почему подходишь именно на эту позицию
- Упомяни 2-3 релевантных достижения
- Покажи знание компании/продукта (если возможно)
- Профессиональный, но не формальный тон
- На русском языке

Верни только текст письма, без JSON."""
